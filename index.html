<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Birthday Surprise</title>
  <style>
    body {
      margin:0; height:100vh; display:flex; flex-direction:column;
      justify-content:center; align-items:center;
      font-family:sans-serif; overflow:hidden;
      /* rainbow gradient background animation */
      background: linear-gradient(270deg, #ff0000, #ff7300, #fffb00, #48ff00, #00ffd5, #002bff, #7a00ff, #ff00ab, #ff0000);
      background-size: 1800% 1800%;
      animation: rainbowBG 20s linear infinite;
    }
    @keyframes rainbowBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    #fwCanvas {
      position:fixed; inset:0; width:100%; height:100%; z-index:0;
    }
    #clickBtn, #character, #message, #nextBtn, #secondStage, #monkeyImg {
      position:relative; z-index:10;
    }
    #clickBtn, #nextBtn {
      padding:15px 30px; font-size:20px; border:0; border-radius:25px;
      background:#ffb703; color:#fff; cursor:pointer; margin-top:20px;
    }
    #clickBtn:hover, #nextBtn:hover { filter:brightness(0.9); }
    #character { width:300px; margin:12px 0 6px; display:none; }
    #message {
      margin-top:6px; font-size:48px; font-weight:700; color:#e9f5ff;
      display:none; text-align:center;
    }
    #nextBtn { display:none; }
    #secondStage {
      display:none; flex-direction:column; align-items:center;
    }
    /* ðŸ”¥ Enlarged font size */
    #monkeyText {
      font-size:60px; font-weight:800; margin-top:20px; color:#fff;
      text-shadow: 0 3px 10px rgba(0,0,0,0.6);
      text-align:center;
    }
    #monkeyImg {
      display:none; margin-top:30px; width:350px;
      animation: pop 0.8s ease forwards;
    }
    @keyframes pop {
      from { transform:scale(0); opacity:0; }
      to { transform:scale(1); opacity:1; }
    }
  </style>
</head>
<body>
  <canvas id="fwCanvas"></canvas>

  <!-- Stage 1 -->
  <button id="clickBtn">Click me!</button>
  <img id="character" src="image.jpg" alt="Character"/>
  <div id="message"></div>
  <audio id="bgMusic" src="song.mp3" preload="auto"></audio>
  <button id="nextBtn">Click me again!</button>

  <!-- Stage 2 -->
  <div id="secondStage">
    <div id="monkeyText">you smell like a monkey</div>
    <img id="monkeyImg" src="image2.jpg" alt="Surprise!">
  </div>

  <!-- Confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.min.js"></script>
  <script>
    const btn = document.getElementById("clickBtn");
    const msg = document.getElementById("message");
    const music = document.getElementById("bgMusic");
    const character = document.getElementById("character");
    const nextBtn = document.getElementById("nextBtn");
    const secondStage = document.getElementById("secondStage");
    const monkeyImg = document.getElementById("monkeyImg");

    const birthdayText = "Happy birthday Vernice!";

    btn.addEventListener("click", ()=>{
      btn.style.display="none";
      character.style.display="block";
      msg.style.display="block";

      // typewriter
      let i=0;
      const interval=setInterval(()=>{
        msg.textContent += birthdayText[i]||"";
        i++;
        if(i===birthdayText.length) clearInterval(interval);
      },120);

      // play music
      music.play().catch(()=>{});

      // confetti
      if(typeof confetti==="function"){
        confetti({particleCount:150, spread:70, origin:{y:0.6}});
      }

      // show NEXT button after 3s
      setTimeout(()=>{ nextBtn.style.display="inline-block"; },3000);
    });

    nextBtn.addEventListener("click", ()=>{
      // hide stage 1, show stage 2
      character.style.display="none";
      msg.style.display="none";
      nextBtn.style.display="none";
      secondStage.style.display="flex";

      // after 2s show image
      setTimeout(()=>{ monkeyImg.style.display="block"; },2000);
    });
  </script>
</body>
</html>
